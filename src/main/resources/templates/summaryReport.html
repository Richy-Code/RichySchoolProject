<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{summaryReport.css}">
    <link rel="stylesheet" th:href="@{bootstrap_css.css}">
    <title>SUMMARY REPORT</title>
</head>
<body>
    <div id="main-content">
        <div id="nav-bar">
            <ul id="nav-link">
                <li><h3 style="color: white;">SUMMARY REPORT</h3></li>
                <li><a th:href="@{/teacher_home_page}">HOME</a></li>
                <li><a th:href="@{/logout}">LOGOUT</a></li>
            </ul>
        </div>
    </div>
    <div style="text-align: center; text-decoration:underline; font-weight:bold; margin-top: 10px;"><h1>STUDENT SUMMARY PROGRESS CHART</h1></div>
    <div class="main" style="display: flex; justify-content: space-evenly; margin-top: 10px">
        <th:block th:each="sub,item : ${subjects}">
            <div th:id="'container'+${item.index}" style="height: 400px; width: 550px" >

            </div>
        </th:block>
    </div>
    <script th:src="@{bootstrap_js.js}"></script>
    <script th:src="@{jquery-3.6.0.js}" type="text/javascript"></script>
    <script th:src="@{highcharts.js}"></script>
    <script th:inline="javascript">
        $(function (){
            /*[# th:each="sub,item : ${subjects}"]*/
            Highcharts.chart('container[[${item.index}]]', {
                chart: {
                    type: 'column'
                },
                title: {
                    text: 'STUDENT PROGRESS REPORT CHART'
                },
                subtitle: {
                    text: 'BASED ON EXAMS OF [[${sub}]]'
                },
                xAxis: {
                    categories: [
                        /*[# th:each="cat : ${category}"]*/
                        [[${cat}]],
                        /*[/]*/
                    ],
                    crosshair: true
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: 'MARKS (%)'
                    }
                },
                tooltip: {
                    headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                    pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                        '<td style="padding:0"><b>{point.y:.1f} mm</b></td></tr>',
                    footerFormat: '</table>',
                    shared: true,
                    useHTML: true
                },
                plotOptions: {
                    column: {
                        pointPadding: 0.2,
                        borderWidth: 0
                    }
                },
                series: [  /*[# th:each="row : ${series.get((item.index))}"]*/
                    {
                        name: [[${row.getTerm()}]],
                        data: [[${row.getGraphData()}]]

                    },  /*[/]*/
                ]
            });
            /*[/]*/
        })
    </script>
</body>
</html>